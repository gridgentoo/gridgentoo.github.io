(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{587:function(e,n,t){"use strict";t.r(n);var o=t(57),a=t(39),i=1e3,r=function(e){return"nextTouchTimestampV2_".concat(e)};n.default=function(e){var n,t,c=e.hash,u=e.timeLeft,s=e.updateInterval,w=e.onSuccess,d=e.onError,f=e.onTimeLeftChange,m=e.checkInterval,h=void 0===m?i:m,v=e.getStorageKey,l=(void 0===v?r:v)(c),p=Math.max(u,0);function T(e){n=e,g()}function g(){var e=p;p=Math.max(n-Date.now(),0),window.clearTimeout(t),p>0&&(t=window.setTimeout(g,h)),p!==e&&f(p)}var k=!1,D=function(e){e.key===l&&T(e.newValue)};return window.addEventListener("storage",D),T(Date.now()+p),{send:function(){p>0||k||(k=!0,o.default.postFormData("/applicant/resumes/touch",{resume:c,undirectable:!0}).then(function(){k=!1,T(Date.now()+s),a.a.setItem(l,n),w()}).catch(function(){k=!1,d()}))},destroyHandlers:function(){window.clearTimeout(t),window.removeEventListener("storage",D)}}}}}]);
//# sourceMappingURL=198.9a119fa9c4b97f9b6151.js.map